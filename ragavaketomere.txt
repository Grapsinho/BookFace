
post, megobrebi, shetyobineba, mesijebi, komentarebi

karoche rac sachiroa profilestvis jer magas vizav anu uralod ro iuzeris profile movawyo ra postebi da ragac ara
background foto da ase shemdeg






DONE login&register password change
DONE setup profile

NEXT davamtavreb set covers da backs






<!-- <script>
  function getCookie(name) {
    var cookieValue = null;
    if (document.cookie && document.cookie !== "") {
      var cookies = document.cookie.split(";");
      for (var i = 0; i < cookies.length; i++) {
        var cookie = jQuery.trim(cookies[i]);
        // Check if this cookie string begins with the name provided
        if (cookie.substring(0, name.length + 1) === name + "=") {
          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
          break;
        }
      }
    }
    return cookieValue;
  }
  var csrftoken = getCookie("csrftoken");

  function sendRequest(url, method, successCallback, errorCallback) {
    $.ajax({
      type: method,
      url: `${location.protocol}//${location.host}${url}`,
      headers: {
        "X-CSRFToken": csrftoken,
      },
      contentType: "application/json",
      credentials: "include",
      success: successCallback,
      error: errorCallback,
    });
  }

  function handleProfileView() {
    sendRequest(
      "/auth/UserProfileView/",
      "GET",
      function (response) {
        console.log(response);

        $(".aq").append(`${response.profile.username}`);
      },
      function (xhr) {
        console.log(xhr);
        if (
          xhr.responseJSON?.detail ===
          "Authentication credentials were not provided or are invalid."
        ) {
          refreshTokenAndRetry();
        } else {
          console.error("Error:", xhr);
        }
      }
    );
  }

  function refreshTokenAndRetry() {
    sendRequest(
      "/auth/token/refresh/",
      "POST",
      function (data) {
        console.log("Token refreshed:", data);
        handleProfileView(); // Retry original request after token refresh
      },
      function (error) {
        console.error("Token refresh failed:", error);
        if (error.responseJSON?.message === "logout qeni") {
          window.location.href = `${location.protocol}//${location.host}/auth/logout/`;
        } else {
          console.error("Error:", error);
        }
      }
    );
  }

  // Initial call to profile view
  handleProfileView();
</script> -->